(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{18:function(t,e,n){t.exports={nav:"Nav_nav__2xKKL",navList:"Nav_navList__3Q2P1",navListItem:"Nav_navListItem__3o3m-",Link:"Nav_Link__3ug2C",linkFocusColor:"Nav_linkFocusColor__NCD3Y"}},24:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return f}));var c=n(22),r=n.n(c),u=n(34),a=n(17),o=n.n(a),i=n(3);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(u.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(i.k()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,s(c.data.token),n(i.l(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(i.j(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(e){e(i.e()),o.a.post("/users/login",t).then((function(t){var n=t.data;s(n.token),e(i.f(n))})).catch((function(t){return e(i.d(t.message))}))}},O=function(){return function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(i.h()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),e(i.i()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(i.g(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(t,e){var n=e().auth.token;n&&(s(n),t(i.b()),o.a.get("/users/current").then((function(e){var n=e.data;return t(i.c(n))})).catch((function(e){return t(i.a(e.message))})))}}},3:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return a})),n.d(e,"k",(function(){return o})),n.d(e,"l",(function(){return i})),n.d(e,"j",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d}));var c=n(4),r=Object(c.b)("/users/login/request"),u=Object(c.b)("/users/login/success"),a=Object(c.b)("/users/login/error"),o=Object(c.b)("/users/signup/request"),i=Object(c.b)("/users/signup/success"),s=Object(c.b)("/users/signup/error"),b=Object(c.b)("/users/logout/request"),j=Object(c.b)("/users/logout/success"),l=Object(c.b)("/users/logout/error"),O=Object(c.b)("/users/current/request"),f=Object(c.b)("/users/current/success"),d=Object(c.b)("/users/current/error")},30:function(t,e,n){t.exports={container:"UserMenu_container__2yP1G",name:"UserMenu_name__3z4D4",button:"UserMenu_button__2wvcs"}},38:function(t,e,n){t.exports={link:"AuthNav_link__3l7BL",activeLink:"AuthNav_activeLink__2AcLJ"}},50:function(t,e,n){t.exports={container:"Container_container__M2Pj_"}},51:function(t,e,n){t.exports={header:"AppBar_header__Mp2hi"}},7:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return O}));var c=n(4),r=Object(c.b)("contacts/fetchContactsRequest"),u=Object(c.b)("contacts/fetchContactsSuccess"),a=Object(c.b)("contacts/fetchContactsError"),o=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),l=Object(c.b)("contacts/deleteContactError"),O=Object(c.b)("contacts/filter")},85:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),u=n(25),a=n.n(u),o=n(15),i=n(9),s=n(49),b=n(6),j=n(50),l=n.n(j),O=n(1),f=function(t){var e=t.children;return Object(O.jsx)("div",{className:l.a.container,children:e})},d=n(20),h=n(29),p=function(t){return t.auth.user.email},v=function(t){return t.auth.isAuthorized},x=function(t){return t.auth.isAuthorized};function g(t){var e=t.children,n=t.redirectTo,c=void 0===n?"/":n,r=Object(h.a)(t,["children","redirectTo"]),u=Object(i.c)(x);return Object(O.jsx)(b.b,Object(d.a)(Object(d.a)({},r),{},{children:u?e:Object(O.jsx)(b.a,{to:c})}))}function m(t){var e=t.children,n=t.redirectTo,c=Object(h.a)(t,["children","redirectTo"]),r=Object(i.c)(x)&&c.restricted;return Object(O.jsx)(b.b,Object(d.a)(Object(d.a)({},c),{},{children:r?Object(O.jsx)(b.a,{to:n}):e}))}var k=n(38),_=n.n(k),y={HOME:"/",MOVIES:"/movies",CONTACTS:"/contacts",REGISTER:"/register",LOGIN:"/login"},C=function(){var t={activeLink:{color:"#ffffff",backgroundColor:"rgb(70, 100, 100)",borderColor:"rgb(50, 80, 100)"}};return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.b,{to:y.REGISTER,className:_.a.link,activeStyle:t.activeLink,children:"Sign up"}),Object(O.jsx)(o.b,{to:y.LOGIN,className:_.a.link,activeStyle:t.activeLink,children:"Sign in"})]})},L=n(18),N=n.n(L),T=function(){var t=Object(i.c)(x);return Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:N.a.navList,children:[Object(O.jsx)("li",{className:N.a.navListItem,children:Object(O.jsx)(o.b,{exact:!0,to:y.HOME,className:N.a.Link,activeClassName:N.a.linkFocusColor,children:"Home"})}),t&&Object(O.jsx)("li",{className:N.a.navListItem,children:Object(O.jsx)(o.b,{exact:!0,to:y.CONTACTS,className:N.a.Link,activeClassName:N.a.linkFocusColor,children:"Contacts"})})]})})},S=n(24),A=n(30),E=n.n(A);function w(){var t=Object(i.b)(),e=Object(i.c)(p);return Object(O.jsxs)("div",{className:E.a.container,children:[Object(O.jsxs)("span",{className:E.a.name,children:["Hello, ",e,"!"]}),Object(O.jsx)("button",{className:E.a.button,type:"button",onClick:function(){return t(Object(S.c)())},children:"Log out"})]})}var z,I,M,R,q,F,G,B,H=n(51),U=n.n(H),J=function(){var t=Object(i.c)(v);return Object(O.jsxs)("header",{className:U.a.header,children:[Object(O.jsx)(T,{}),t?Object(O.jsx)(w,{}):Object(O.jsx)(C,{})]})},P=function(){var t=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,91))})),e=Object(c.lazy)((function(){return n.e(0).then(n.bind(null,94))})),r=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,92))})),u=Object(c.lazy)((function(){return n.e(2).then(n.bind(null,93))})),a=Object(i.b)();return Object(c.useEffect)((function(){a(Object(S.a)())}),[a]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(f,{children:Object(O.jsxs)(c.Suspense,{fallback:Object(O.jsx)("p",{children:"Loading..."}),children:[Object(O.jsx)(J,{}),Object(O.jsxs)(b.d,{children:[Object(O.jsx)(m,{exact:!0,path:"/",restricted:!0,redirectTo:"/contacts",children:Object(O.jsx)(t,{})}),Object(O.jsx)(g,{path:"/contacts",redirectTo:"/login",children:Object(O.jsx)(e,{})}),Object(O.jsx)(m,{path:"/register",restricted:!0,redirectTo:"/contacts",children:Object(O.jsx)(r,{})}),Object(O.jsx)(m,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(O.jsx)(u,{})})]})]})})})},D=n(28),K=n(4),Q=n(52),V=n.n(Q),Y=n(53),W=n.n(Y),X=n(16),Z=n(2),$=n(8),tt=n(7),et=Object(K.c)([],(z={},Object(Z.a)(z,tt.j,(function(t,e){return e.payload})),Object(Z.a)(z,tt.c,(function(t,e){return[e.payload].concat(Object(D.a)(t))})),Object(Z.a)(z,tt.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),z)),nt=Object(K.c)("",Object(Z.a)({},tt.d,(function(t,e){return e.payload}))),ct=Object(K.c)(!1,(I={},Object(Z.a)(I,tt.i,(function(){return!0})),Object(Z.a)(I,tt.j,(function(){return!1})),Object(Z.a)(I,tt.h,(function(){return!1})),Object(Z.a)(I,tt.b,(function(){return!0})),Object(Z.a)(I,tt.c,(function(){return!1})),Object(Z.a)(I,tt.a,(function(){return!1})),Object(Z.a)(I,tt.f,(function(){return!0})),Object(Z.a)(I,tt.g,(function(){return!1})),Object(Z.a)(I,tt.e,(function(){return!1})),I)),rt=Object(K.c)(null,(M={},Object(Z.a)(M,tt.h,(function(t,e){return e.payload})),Object(Z.a)(M,tt.a,(function(t,e){return e.payload})),Object(Z.a)(M,tt.e,(function(t,e){return e.payload})),Object(Z.a)(M,tt.i,(function(){return null})),Object(Z.a)(M,tt.b,(function(){return null})),Object(Z.a)(M,tt.f,(function(){return null})),M)),ut=Object($.c)({items:et,filter:nt,loading:ct,error:rt}),at=n(3),ot={name:null,email:null},it=Object(K.c)(!1,(R={},Object(Z.a)(R,at.f,(function(){return!0})),Object(Z.a)(R,at.l,(function(){return!0})),Object(Z.a)(R,at.c,(function(){return!0})),Object(Z.a)(R,at.i,(function(){return!1})),Object(Z.a)(R,at.a,(function(){return!1})),Object(Z.a)(R,at.d,(function(){return!1})),Object(Z.a)(R,at.j,(function(){return!1})),R)),st=Object(K.c)(!1,(q={},Object(Z.a)(q,at.b,(function(){return!0})),Object(Z.a)(q,at.c,(function(){return!1})),Object(Z.a)(q,at.a,(function(){return!1})),Object(Z.a)(q,at.e,(function(){return!0})),Object(Z.a)(q,at.f,(function(){return!1})),Object(Z.a)(q,at.d,(function(){return!1})),Object(Z.a)(q,at.h,(function(){return!0})),Object(Z.a)(q,at.i,(function(){return!1})),Object(Z.a)(q,at.g,(function(){return!1})),Object(Z.a)(q,at.k,(function(){return!0})),Object(Z.a)(q,at.l,(function(){return!1})),Object(Z.a)(q,at.j,(function(){return!1})),q)),bt=Object(K.c)(ot,(F={},Object(Z.a)(F,at.l,(function(t,e){return e.payload.user})),Object(Z.a)(F,at.f,(function(t,e){return e.payload.user})),Object(Z.a)(F,at.i,(function(){return ot})),Object(Z.a)(F,at.c,(function(t,e){return e.payload})),F)),jt=Object(K.c)(null,(G={},Object(Z.a)(G,at.l,(function(t,e){return e.payload.token})),Object(Z.a)(G,at.f,(function(t,e){return e.payload.token})),Object(Z.a)(G,at.i,(function(){return null})),G)),lt=Object(K.c)(null,(B={},Object(Z.a)(B,at.j,(function(){return function(t,e){return e.payload}})),Object(Z.a)(B,at.d,(function(){return function(t,e){return e.payload}})),Object(Z.a)(B,at.a,(function(){return function(t,e){return e.payload}})),Object(Z.a)(B,at.g,(function(){return function(t,e){return e.payload}})),B)),Ot=Object($.c)({user:bt,token:jt,isLoading:st,error:lt,isAuthorized:it}),ft=[].concat(Object(D.a)(Object(K.d)({serializableCheck:{ignoredActions:[X.a,X.f,X.b,X.c,X.d,X.e]}})),[V.a]),dt={key:"auth",storage:W.a,whiteList:["token"]},ht=Object(K.a)({reducer:{contacts:ut,auth:Object(X.g)(dt,Ot)},middleware:ft,devTools:!1}),pt={store:ht,persistor:Object(X.h)(ht)};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(i.a,{store:pt.store,children:Object(O.jsx)(s.a,{loading:null,persistor:pt.persistor,children:Object(O.jsx)(o.a,{children:Object(O.jsx)(P,{})})})})}),document.getElementById("root"))}},[[85,5,6]]]);
//# sourceMappingURL=main.7260b0df.chunk.js.map